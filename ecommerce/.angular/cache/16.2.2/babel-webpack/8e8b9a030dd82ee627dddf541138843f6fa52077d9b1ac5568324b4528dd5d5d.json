{"ast":null,"code":"var _class;\nimport { catchError, throwError } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../auth.service\";\nimport * as i2 from \"@angular/router\";\nexport class UserAuthComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.authStatus = false;\n  }\n  checkUser(username, password) {\n    this.authService.authenticate(username, password).pipe(catchError(error => {\n      alert(\"Wrong Credentiels\");\n      return throwError(error);\n    })).subscribe(response => {\n      console.log(response.json().token);\n      alert(\"Nice\");\n      this.authService.setAuthenticated(true);\n      this.router.navigate(['/products']);\n    });\n  }\n  goToRegister(event) {\n    event.preventDefault();\n    this.router.navigate(['/userRegister']);\n  }\n}\n_class = UserAuthComponent;\n_class.ɵfac = function UserAuthComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-userauth\"]],\n  decls: 28,\n  vars: 0,\n  consts: [[1, \"vh-100\", \"gradient-custom\"], [1, \"container\", \"py-5\", \"h-100\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"col-12\", \"col-md-8\", \"col-lg-6\", \"col-xl-5\"], [1, \"card\", \"bg-dark\", \"text-white\", 2, \"border-radius\", \"1rem\"], [1, \"card-body\", \"p-5\", \"text-center\"], [1, \"mb-md-5\", \"mt-md-4\", \"pb-5\"], [1, \"fw-bold\", \"mb-2\", \"text-uppercase\"], [1, \"text-white-50\", \"mb-5\"], [1, \"form-outline\", \"form-white\", \"mb-4\"], [\"type\", \"text\", \"id\", \"username\", 1, \"form-control\", \"form-control-lg\"], [\"username\", \"\"], [\"for\", \"username\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"typePasswordX\", 1, \"form-control\", \"form-control-lg\"], [\"password\", \"\"], [\"for\", \"typePasswordX\", 1, \"form-label\"], [\"type\", \"submit\", \"routerLink\", \"/\", \"routerLinkActive\", \"active\", 1, \"btn\", \"btn-outline-light\", \"btn-lg\", \"px-5\", 3, \"click\"], [1, \"mb-0\"], [\"href\", \"#\", 1, \"text-white-50\", \"fw-bold\", 3, \"click\"]],\n  template: function UserAuthComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r2 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"h2\", 7);\n      i0.ɵɵtext(8, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"p\", 8);\n      i0.ɵɵtext(10, \"Please enter your login and password!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 9);\n      i0.ɵɵelement(12, \"input\", 10, 11);\n      i0.ɵɵelementStart(14, \"label\", 12);\n      i0.ɵɵtext(15, \"Username\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 9);\n      i0.ɵɵelement(17, \"input\", 13, 14);\n      i0.ɵɵelementStart(19, \"label\", 15);\n      i0.ɵɵtext(20, \"Password\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"button\", 16);\n      i0.ɵɵlistener(\"click\", function UserAuthComponent_Template_button_click_21_listener() {\n        i0.ɵɵrestoreView(_r2);\n        const _r0 = i0.ɵɵreference(13);\n        const _r1 = i0.ɵɵreference(18);\n        return i0.ɵɵresetView(ctx.checkUser(_r0.value, _r1.value));\n      });\n      i0.ɵɵtext(22, \"Login\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(23, \"div\")(24, \"p\", 17);\n      i0.ɵɵtext(25, \"Don't have an account? \");\n      i0.ɵɵelementStart(26, \"a\", 18);\n      i0.ɵɵlistener(\"click\", function UserAuthComponent_Template_a_click_26_listener($event) {\n        return ctx.goToRegister($event);\n      });\n      i0.ɵɵtext(27, \"Sign Up\");\n      i0.ɵɵelementEnd()()()()()()()()();\n    }\n  },\n  dependencies: [i2.RouterLink, i2.RouterLinkActive],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["catchError","throwError","UserAuthComponent","constructor","authService","router","authStatus","checkUser","username","password","authenticate","pipe","error","alert","subscribe","response","console","log","json","token","setAuthenticated","navigate","goToRegister","event","preventDefault","i0","ɵɵdirectiveInject","i1","AuthService","i2","Router","selectors","decls","vars","consts","template","UserAuthComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","UserAuthComponent_Template_button_click_21_listener","ɵɵrestoreView","_r2","_r0","ɵɵreference","_r1","ɵɵresetView","value","UserAuthComponent_Template_a_click_26_listener","$event"],"sources":["D:\\Studies\\Projects\\Angular\\ecommerce\\src\\app\\userauth\\user-auth.component.ts","D:\\Studies\\Projects\\Angular\\ecommerce\\src\\app\\userauth\\user-auth.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport {AuthService} from \"../auth.service\";\nimport {User} from \"../models/user\";\nimport {Router} from \"@angular/router\";\nimport {catchError, throwError} from \"rxjs\";\n\n@Component({\n  selector: 'app-userauth',\n  templateUrl: './user-auth.component.html',\n  styleUrls: ['./user-auth.component.css']\n})\nexport class UserAuthComponent {\n\n  authStatus : boolean = false;\n  constructor(private authService:AuthService, private router: Router){}\n\n  checkUser(username : string, password : string){\n      this.authService.authenticate(username, password).pipe(\n        catchError((error: any) => {\n          alert(\"Wrong Credentiels\")\n          return throwError(error);\n        })\n      )\n        .subscribe((response: any) => {\n          console.log(response.json().token);\n          alert(\"Nice\")\n          this.authService.setAuthenticated(true);\n          this.router.navigate(['/products']);\n        });\n\n  }\n\n  goToRegister(event: { preventDefault: () => void; }) {\n    event.preventDefault();\n    this.router.navigate(['/userRegister']);\n  }\n}\n","<section class=\"vh-100 gradient-custom\">\n  <div class=\"container py-5 h-100\">\n    <div class=\"row d-flex justify-content-center align-items-center h-100\">\n      <div class=\"col-12 col-md-8 col-lg-6 col-xl-5\">\n        <div class=\"card bg-dark text-white\" style=\"border-radius: 1rem;\">\n          <div class=\"card-body p-5 text-center\">\n\n            <div class=\"mb-md-5 mt-md-4 pb-5\">\n\n              <h2 class=\"fw-bold mb-2 text-uppercase\">Login</h2>\n              <p class=\"text-white-50 mb-5\">Please enter your login and password!</p>\n\n              <div class=\"form-outline form-white mb-4\">\n                <input type=\"text\" id=\"username\" class=\"form-control form-control-lg\" #username />\n                <label class=\"form-label\" for=\"username\">Username</label>\n              </div>\n\n              <div class=\"form-outline form-white mb-4\">\n                <input type=\"password\" id=\"typePasswordX\" class=\"form-control form-control-lg\" #password/>\n                <label class=\"form-label\" for=\"typePasswordX\">Password</label>\n              </div>\n\n              <button class=\"btn btn-outline-light btn-lg px-5\" type=\"submit\" (click)=\"checkUser(username.value, password.value)\" routerLink=\"/\" routerLinkActive=\"active\">Login</button>\n\n            </div>\n\n            <div>\n              <p class=\"mb-0\">Don't have an account? <a href=\"#\" (click)=\"goToRegister($event)\" class=\"text-white-50 fw-bold\">Sign Up</a>\n              </p>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}