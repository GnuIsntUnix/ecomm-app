{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../cart.service\";\nimport * as i2 from \"../auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction CartComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11)(2, \"div\", 12)(3, \"div\", 13);\n    i0.ɵɵelement(4, \"img\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 15)(6, \"p\", 16);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 17);\n    i0.ɵɵelement(9, \"input\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 19)(11, \"h5\", 20);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 21)(14, \"a\", 22);\n    i0.ɵɵelement(15, \"i\", 23);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"src\", product_r1.product.thumbnail, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r1.product.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", product_r1.qte);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", product_r1.product.price * product_r1.qte, \"$\");\n  }\n}\nexport class CartComponent {\n  constructor(cartService, authService, router) {\n    this.cartService = cartService;\n    this.authService = authService;\n    this.router = router;\n  }\n  ngOnInit() {\n    this.products = this.cartService.getItems();\n    this.authenticatedUser = this.authService.getAuthUser();\n  }\n  clearCart() {\n    window.location.reload();\n    this.cartService.clearCart();\n  }\n  validateCart() {\n    if (this.authService.isAuthenticated()) {\n      this.cartService.validateCart().subscribe(response => {\n        console.log(response.json());\n      });\n    } else {\n      // Redirect to the login page\n      this.router.navigate(['/login']);\n    }\n  }\n}\n_class = CartComponent;\n_class.ɵfac = function CartComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.CartService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-cart\"]],\n  decls: 16,\n  vars: 1,\n  consts: [[1, \"h-100\", 2, \"background-color\", \"#eee\"], [1, \"container\", \"h-100\", \"py-5\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"col-10\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\"], [1, \"fw-normal\", \"mb-0\", \"text-black\"], [\"class\", \"card rounded-3 mb-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\"], [1, \"card-body\"], [\"type\", \"button\", 1, \"btn\", \"btn-warning\", \"btn-block\", \"btn-lg\", 3, \"click\"], [1, \"card\", \"rounded-3\", \"mb-4\"], [1, \"card-body\", \"p-4\"], [1, \"row\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"col-md-2\", \"col-lg-2\", \"col-xl-2\"], [\"alt\", \"Product Img\", 1, \"img-fluid\", \"rounded-3\", 3, \"src\"], [1, \"col-md-3\", \"col-lg-3\", \"col-xl-3\"], [1, \"lead\", \"fw-normal\", \"mb-2\"], [1, \"col-md-3\", \"col-lg-3\", \"col-xl-2\", \"d-flex\"], [\"id\", \"form1\", \"min\", \"1\", \"name\", \"quantity\", \"type\", \"number\", \"readonly\", \"\", 1, \"form-control\", \"form-control-sm\", 3, \"value\"], [1, \"col-md-3\", \"col-lg-2\", \"col-xl-2\", \"offset-lg-1\"], [1, \"mb-0\"], [1, \"col-md-1\", \"col-lg-1\", \"col-xl-1\", \"text-end\"], [\"href\", \"#!\", 1, \"text-danger\"], [1, \"fas\", \"fa-trash\", \"fa-lg\"]],\n  template: function CartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h3\", 5);\n      i0.ɵɵtext(6, \"Shopping Cart\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(7, CartComponent_div_7_Template, 16, 4, \"div\", 6);\n      i0.ɵɵelementStart(8, \"div\", 7)(9, \"div\", 8)(10, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CartComponent_Template_button_click_10_listener() {\n        return ctx.clearCart();\n      });\n      i0.ɵɵtext(11, \"Clear Cart\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(12, \"div\", 7)(13, \"div\", 8)(14, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CartComponent_Template_button_click_14_listener() {\n        return ctx.validateCart();\n      });\n      i0.ɵɵtext(15, \"Validate Cart\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n    }\n  },\n  dependencies: [i4.NgForOf],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵproperty","product_r1","product","thumbnail","ɵɵsanitizeUrl","ɵɵtextInterpolate","title","qte","ɵɵtextInterpolate1","price","CartComponent","constructor","cartService","authService","router","ngOnInit","products","getItems","authenticatedUser","getAuthUser","clearCart","window","location","reload","validateCart","isAuthenticated","subscribe","response","console","log","json","navigate","ɵɵdirectiveInject","i1","CartService","i2","AuthService","i3","Router","selectors","decls","vars","consts","template","CartComponent_Template","rf","ctx","ɵɵtemplate","CartComponent_div_7_Template","ɵɵlistener","CartComponent_Template_button_click_10_listener","CartComponent_Template_button_click_14_listener"],"sources":["D:\\Studies\\Projects\\Angular\\ecommerce\\src\\app\\cart\\cart.component.ts","D:\\Studies\\Projects\\Angular\\ecommerce\\src\\app\\cart\\cart.component.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {CartService} from \"../cart.service\";\nimport {CartItem} from \"../models/cart-item\";\n// @ts-ignore\nimport Array from \"$GLOBAL$\";\nimport {AuthService} from \"../auth.service\";\nimport {Command} from \"../models/command\";\nimport {Router} from \"@angular/router\";\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})\nexport class CartComponent implements OnInit{\n\n  authenticatedUser: any;\n\n  products : Array<CartItem>;\n\n  constructor( private cartService : CartService, private authService : AuthService, private router: Router) {\n  }\n\n  ngOnInit(): void {\n    this.products = this.cartService.getItems();\n    this.authenticatedUser = this.authService.getAuthUser();\n  }\n\n  clearCart(){\n    window.location.reload();\n    this.cartService.clearCart();\n  }\n\n  validateCart(){\n    if (this.authService.isAuthenticated()) {\n      this.cartService.validateCart().subscribe(response => {\n        console.log(response.json());\n      });\n    } else {\n      // Redirect to the login page\n      this.router.navigate(['/login']);\n    }\n  }\n\n\n\n\n\n}\n","<section class=\"h-100\" style=\"background-color: #eee;\">\n  <div class=\"container h-100 py-5\">\n    <div class=\"row d-flex justify-content-center align-items-center h-100\">\n      <div class=\"col-10\">\n\n        <div class=\"d-flex justify-content-between align-items-center mb-4\">\n          <h3 class=\"fw-normal mb-0 text-black\">Shopping Cart</h3>\n\n        </div>\n\n        <div class=\"card rounded-3 mb-4\"  *ngFor=\"let product of products\">\n          <div class=\"card-body p-4\">\n            <div class=\"row d-flex justify-content-between align-items-center\">\n              <div class=\"col-md-2 col-lg-2 col-xl-2\">\n                <img\n                  [src]=\"product.product.thumbnail\"\n                  class=\"img-fluid rounded-3\" alt=\"Product Img\">\n              </div>\n              <div class=\"col-md-3 col-lg-3 col-xl-3\">\n                <p class=\"lead fw-normal mb-2\">{{product.product.title}}</p>\n              </div>\n              <div class=\"col-md-3 col-lg-3 col-xl-2 d-flex\">\n\n                <input id=\"form1\" min=\"1\" name=\"quantity\" [value]=\"product.qte\" type=\"number\"\n                       class=\"form-control form-control-sm\" readonly/>\n\n              </div>\n              <div class=\"col-md-3 col-lg-2 col-xl-2 offset-lg-1\">\n                <h5 class=\"mb-0\">{{product.product.price*product.qte}}$</h5>\n              </div>\n              <div class=\"col-md-1 col-lg-1 col-xl-1 text-end\">\n                <a href=\"#!\" class=\"text-danger\"><i class=\"fas fa-trash fa-lg\"></i></a>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <button type=\"button\" class=\"btn btn-warning btn-block btn-lg\" (click)=\"clearCart()\">Clear Cart</button>\n          </div>\n        </div>\n\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <button type=\"button\" class=\"btn btn-warning btn-block btn-lg\" (click)=\"validateCart()\">Validate Cart</button>\n          </div>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</section>\n"],"mappings":";;;;;;;;ICUQA,EAAA,CAAAC,cAAA,cAAmE;IAI3DD,EAAA,CAAAE,SAAA,cAEgD;IAClDF,EAAA,CAAAG,YAAA,EAAM;IACNH,EAAA,CAAAC,cAAA,cAAwC;IACPD,EAAA,CAAAI,MAAA,GAAyB;IAAAJ,EAAA,CAAAG,YAAA,EAAI;IAE9DH,EAAA,CAAAC,cAAA,cAA+C;IAE7CD,EAAA,CAAAE,SAAA,gBACsD;IAExDF,EAAA,CAAAG,YAAA,EAAM;IACNH,EAAA,CAAAC,cAAA,eAAoD;IACjCD,EAAA,CAAAI,MAAA,IAAsC;IAAAJ,EAAA,CAAAG,YAAA,EAAK;IAE9DH,EAAA,CAAAC,cAAA,eAAiD;IACdD,EAAA,CAAAE,SAAA,aAAkC;IAAAF,EAAA,CAAAG,YAAA,EAAI;;;;IAhBrEH,EAAA,CAAAK,SAAA,GAAiC;IAAjCL,EAAA,CAAAM,UAAA,QAAAC,UAAA,CAAAC,OAAA,CAAAC,SAAA,EAAAT,EAAA,CAAAU,aAAA,CAAiC;IAIJV,EAAA,CAAAK,SAAA,GAAyB;IAAzBL,EAAA,CAAAW,iBAAA,CAAAJ,UAAA,CAAAC,OAAA,CAAAI,KAAA,CAAyB;IAIdZ,EAAA,CAAAK,SAAA,GAAqB;IAArBL,EAAA,CAAAM,UAAA,UAAAC,UAAA,CAAAM,GAAA,CAAqB;IAK9Cb,EAAA,CAAAK,SAAA,GAAsC;IAAtCL,EAAA,CAAAc,kBAAA,KAAAP,UAAA,CAAAC,OAAA,CAAAO,KAAA,GAAAR,UAAA,CAAAM,GAAA,MAAsC;;;ADdvE,OAAM,MAAOG,aAAa;EAMxBC,YAAqBC,WAAyB,EAAUC,WAAyB,EAAUC,MAAc;IAApF,KAAAF,WAAW,GAAXA,WAAW;IAAwB,KAAAC,WAAW,GAAXA,WAAW;IAAwB,KAAAC,MAAM,GAANA,MAAM;EACjG;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACJ,WAAW,CAACK,QAAQ,EAAE;IAC3C,IAAI,CAACC,iBAAiB,GAAG,IAAI,CAACL,WAAW,CAACM,WAAW,EAAE;EACzD;EAEAC,SAASA,CAAA;IACPC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;IACxB,IAAI,CAACX,WAAW,CAACQ,SAAS,EAAE;EAC9B;EAEAI,YAAYA,CAAA;IACV,IAAI,IAAI,CAACX,WAAW,CAACY,eAAe,EAAE,EAAE;MACtC,IAAI,CAACb,WAAW,CAACY,YAAY,EAAE,CAACE,SAAS,CAACC,QAAQ,IAAG;QACnDC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,EAAE,CAAC;MAC9B,CAAC,CAAC;KACH,MAAM;MACL;MACA,IAAI,CAAChB,MAAM,CAACiB,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;;EAEpC;;SA5BWrB,aAAa;;mBAAbA,MAAa,EAAAhB,EAAA,CAAAsC,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAAxC,EAAA,CAAAsC,iBAAA,CAAAG,EAAA,CAAAC,WAAA,GAAA1C,EAAA,CAAAsC,iBAAA,CAAAK,EAAA,CAAAC,MAAA;AAAA;;QAAb5B,MAAa;EAAA6B,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,uBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCd1BnD,EAAA,CAAAC,cAAA,iBAAuD;MAMPD,EAAA,CAAAI,MAAA,oBAAa;MAAAJ,EAAA,CAAAG,YAAA,EAAK;MAI1DH,EAAA,CAAAqD,UAAA,IAAAC,4BAAA,kBAyBM;MAENtD,EAAA,CAAAC,cAAA,aAAkB;MAEiDD,EAAA,CAAAuD,UAAA,mBAAAC,gDAAA;QAAA,OAASJ,GAAA,CAAA1B,SAAA,EAAW;MAAA,EAAC;MAAC1B,EAAA,CAAAI,MAAA,kBAAU;MAAAJ,EAAA,CAAAG,YAAA,EAAS;MAI5GH,EAAA,CAAAC,cAAA,cAAkB;MAEiDD,EAAA,CAAAuD,UAAA,mBAAAE,gDAAA;QAAA,OAASL,GAAA,CAAAtB,YAAA,EAAc;MAAA,EAAC;MAAC9B,EAAA,CAAAI,MAAA,qBAAa;MAAAJ,EAAA,CAAAG,YAAA,EAAS;;;MAnC5DH,EAAA,CAAAK,SAAA,GAAW;MAAXL,EAAA,CAAAM,UAAA,YAAA8C,GAAA,CAAA9B,QAAA,CAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}